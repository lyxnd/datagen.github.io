import{_ as pe,r as i,c as L,a as d,o as c,b as v,d as t,w as s,F as B,e as o,f as K,g as P,h as X,t as k,u as ve,i as b,j as me,p as fe,k as ge}from"./index-3946nwtf.js";import{F as ee}from"./FileSaver.min-Fq9_HsNI.js";const F=A=>(fe("data-v-ba1d9530"),A=A(),ge(),A),_e={style:{display:"flex","align-items":"center","justify-content":"flex-start"}},he=F(()=>o("span",null,"Type:",-1)),ye=F(()=>o("span",null,"Category:",-1)),be={style:{display:"flex","flex-direction":"column",width:"60%"}},Ve={class:"container"},xe={key:1,class:"grid"},ke={key:1},Ce={key:2,class:"single-item"},we=["src"],Se={key:1},Ue={class:"side-container"},Ne=F(()=>o("span",{class:"arrow",style:{display:"flex","margin-top":"-4px"}},"—————",-1)),Ie={key:1},je={key:0},Be=F(()=>o("span",null,"experience: ",-1)),Fe=F(()=>o("span",null,"cooking Time: ",-1)),Ae={style:{width:"100%",display:"flex","justify-content":"flex-end"}},Re={style:{"align-items":"center",height:"100%","padding-left":"20px","font-weight":"bold","font-size":"30px"}},Me={slot:"footer",class:"dialog-footer"},Oe={style:{height:"100%","font-weight":"bold","padding-left":"30px","font-size":"30px"}},ze={slot:"footer",class:"dialog-footer"},Je={__name:"Recipes",setup(A){const Y="/image-paths.json",le=[{label:"Shaped Crafting",value:"minecraft:crafting_shaped"},{label:"Shapeless Crafting",value:"minecraft:crafting_shapeless"},{label:"Smelting",value:"minecraft:smelting"},{label:"Blasting",value:"minecraft:blasting"},{label:"Smoking",value:"minecraft:smoking"},{label:"Campfire Cooking",value:"minecraft:campfire_cooking"},{label:"Stone Cutting",value:"minecraft:stonecutting"}],te=[{label:"Misc",value:"misc"},{label:"Misc",value:"building_blocks"},{label:"Misc",value:"decorations"},{label:"Misc",value:"redstone"},{label:"Misc",value:"transportation"},{label:"Misc",value:"brewing"},{label:"Tools",value:"tools"},{label:"Combat",value:"combat"},{label:"Food",value:"food"}],R=i([]);(async()=>{try{const e=await(await fetch(Y)).json();R.value=e.map(n=>({label:n.split("/").pop().split(".")[0],path:n,value:n}))}catch(a){console.error("Error loading image paths:",a)}})();const C=i(1),T=i(1),$=i(1),E=i(1),m=i("minecraft:crafting_shapeless"),w=i("misc"),S=i(!1),U=i(!1),x=i(null),V=i(null),p=i(null),u=i(Array(9).fill(null)),g=i(Array(9).fill("")),_=i(""),N=i(""),D=i(""),M=i(""),h=()=>{V.value&&x.value?u.value[x.value-1]=V.value:V.value&&!x.value&&(p.value=V.value),S.value=!1,U.value=!1,H()},Z=a=>{console.log("showGrid"+I.value),I.value||(u.value.length=0,g.value.length=0),V.value=null,x.value=a,S.value=!0},ae=()=>{_.value="",p.value=null,U.value=!0},I=L(()=>m.value==="minecraft:crafting_shaped"),G=L(()=>m.value==="minecraft:crafting_shapeless"),q=L(()=>m.value==="minecraft:stonecutting");let oe=["#","*","~","X","Y","Z","A","B","C"],r=[];const H=()=>{console.log(R),console.log(Y);let a={};m.value==="minecraft:crafting_shaped"?a={type:"minecraft:crafting_shaped",category:w.value,key:ne(),pattern:[r[0]+r[1]+r[2],r[3]+r[4]+r[5],r[6]+r[7]+r[8]],result:{item:f(p.value),count:C.value},show_notification:!0}:m.value==="minecraft:crafting_shapeless"?a={type:"minecraft:crafting_shapeless",category:w.value,ingredients:{item:f(u.value[0],g.value[0]),count:E.value},result:{item:f(p.value,_.value),count:C.value}}:m.value==="minecraft:stonecutting"?a={type:m.value,ingredient:{item:f(u.value[0],g.value[0])},result:f(p.value,_.value),count:C.value}:a={type:m.value,category:w.value,ingredient:{item:f(u.value[0],g.value[0])},result:f(p.value,_.value),experience:$.value,cookingtime:T.value*20},D.value=JSON.stringify(a,null,2)},ne=()=>{r=JSON.parse(JSON.stringify(oe));for(let e=0;e<u.value.length;e++)if(!u.value[e])r[e]=" ";else for(let n=e+1;n<u.value.length;n++)u.value[n]===u.value[e]&&(r[n]=r[e]);const a={};for(let e=0;e<u.value.length;e++)if(u.value[e]){let n=f(u.value[e]," ");a[r[e]]={},a[r[e]].item=n}return a},f=(a,e)=>{if(!a)return N.value!==""?e===""?N.value+":":N.value+":"+e:e===""?"":e;console.log(a);let n=a.split("/").pop();console.log(n);let j=n.lastIndexOf(".");return n=n.substring(0,j),"minecraft:"+n},se=()=>{const a=new Blob([D.value],{type:"application/json"});if(M.value)ee.saveAs(a,M.value);else{let e;m==="minecraft:crafting_shaped"?e="to"+f(p.value,_.value)+".json":e="from"+f(u.value[0],g.value[0])+"to"+f(p.value,_.value)+".json",ee.saveAs(a,e)}};return(a,e)=>{const n=d("el-option"),j=d("el-select"),O=d("el-input"),ue=d("el-header"),z=d("el-input-number"),J=d("el-image"),y=d("el-button"),ie=d("el-icon"),re=d("el-card"),ce=d("el-main"),de=d("el-container"),Q=d("el-select-v2"),W=d("el-dialog");return c(),v(B,null,[t(de,{style:{height:"100%"}},{default:s(()=>[t(ue,{height:"130px"},{default:s(()=>[o("div",_e,[he,t(j,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),placeholder:"Select type"},{default:s(()=>[(c(),v(B,null,K(le,l=>t(n,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),ye,t(j,{modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=l=>w.value=l),placeholder:"Select category",style:{"margin-left":"10px"}},{default:s(()=>[(c(),v(B,null,K(te,l=>t(n,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),o("div",be,[t(O,{modelValue:N.value,"onUpdate:modelValue":e[2]||(e[2]=l=>N.value=l),placeholder:"在此输入mod名称，则在选择时只需输入物品名",style:{margin:"8px 0"}},null,8,["modelValue"]),t(O,{modelValue:M.value,"onUpdate:modelValue":e[3]||(e[3]=l=>M.value=l),placeholder:"Export file name",style:{margin:"8px 0"}},null,8,["modelValue"])])]),_:1}),t(ce,{style:{"margin-top":"10px","padding-top":"5px"}},{default:s(()=>[o("div",Ve,[G.value?(c(),P(z,{key:0,modelValue:E.value,"onUpdate:modelValue":e[4]||(e[4]=l=>E.value=l),min:1,onChange:h},null,8,["modelValue"])):X("",!0),I.value?(c(),v("div",xe,[(c(),v(B,null,K(9,l=>o("div",{key:l,class:"grid-item"},[t(y,{onClick:Ee=>Z(l),class:"grid-button"},{default:s(()=>[u.value[l-1]?(c(),P(J,{key:0,src:u.value[l-1],alt:"",style:{width:"80px",height:"80px"}},null,8,["src"])):(c(),v("span",ke,k(g.value[l]),1))]),_:2},1032,["onClick"])])),64))])):(c(),v("div",Ce,[o("button",{onClick:e[5]||(e[5]=l=>Z(1)),class:"grid-button"},[u.value[0]?(c(),v("img",{key:0,src:u.value[0],alt:"",style:{width:"80px",height:"80px"}},null,8,we)):(c(),v("span",Se,k(g.value[0]),1))])])),o("div",Ue,[Ne,t(ie,null,{default:s(()=>[t(ve(me))]),_:1}),t(y,{onClick:ae,class:"grid-button"},{default:s(()=>[p.value?(c(),P(J,{key:0,src:p.value,alt:"",style:{width:"80px",height:"80px"}},null,8,["src"])):(c(),v("span",Ie,k(_.value),1))]),_:1}),I.value||q.value||G.value?(c(),v("span",je,[b("amount: "),t(z,{modelValue:C.value,"onUpdate:modelValue":e[6]||(e[6]=l=>C.value=l),min:1,onChange:h},null,8,["modelValue"])])):X("",!0),!G.value&&!I.value&&!q.value?(c(),v(B,{key:1},[Be,t(z,{modelValue:$.value,"onUpdate:modelValue":e[7]||(e[7]=l=>$.value=l),precision:2,step:.1,onChange:h},null,8,["modelValue"]),Fe,t(z,{modelValue:T.value,"onUpdate:modelValue":e[8]||(e[8]=l=>T.value=l),step:1,onChange:h},null,8,["modelValue"]),b("(秒/s) ")],64)):X("",!0),t(y,{type:"success",round:"",onClick:H},{default:s(()=>[b("生成")]),_:1})])]),o("div",null,[t(re,{style:{"background-color":"#282828",color:"white",overflow:"auto",height:"100%"}},{default:s(()=>[o("div",Ae,[t(y,{type:"success",round:"",onClick:se,style:{"z-index":"1"}},{default:s(()=>[b("导出")]),_:1})]),o("pre",null,k(D.value),1)]),_:1})])]),_:1})]),_:1}),t(W,{modelValue:S.value,"onUpdate:modelValue":e[12]||(e[12]=l=>S.value=l),title:"Select Items",style:{height:"40%"}},{default:s(()=>[o("div",null,[t(Q,{modelValue:V.value,"onUpdate:modelValue":e[9]||(e[9]=l=>V.value=l),options:R.value,placeholder:"Select Items",filterable:"",clearable:"","item-height":60,onChange:h,size:"large",props:{checkStrictly:!0}},{default:s(({item:l})=>[t(J,{src:l.path,style:{width:"50px",height:"50px","margin-right":"10px"}},null,8,["src"]),o("span",Re,k(l.label),1)]),_:1},8,["modelValue","options"]),t(O,{placeholder:"上方未找到，可在此输入，自定义mod内容也需在此输入(格式: minecraft:stick)",style:{margin:"15px 0"},modelValue:g.value[x.value-1],"onUpdate:modelValue":e[10]||(e[10]=l=>g.value[x.value-1]=l)},null,8,["modelValue"])]),o("span",Me,[t(y,{onClick:e[11]||(e[11]=l=>S.value=!1)},{default:s(()=>[b("Cancel")]),_:1}),t(y,{type:"primary",onClick:h},{default:s(()=>[b("Confirm")]),_:1})])]),_:1},8,["modelValue"]),t(W,{modelValue:U.value,"onUpdate:modelValue":e[16]||(e[16]=l=>U.value=l),title:"Select Result Item",style:{height:"40%"}},{default:s(()=>[o("div",null,[t(Q,{modelValue:p.value,"onUpdate:modelValue":e[13]||(e[13]=l=>p.value=l),options:R.value,placeholder:"Select Result",filterable:"",clearable:"","item-height":60,onChange:h,size:"large"},{default:s(({item:l})=>[t(J,{src:l.path,style:{width:"50px",height:"50px"}},null,8,["src"]),o("span",Oe,k(l.label),1)]),_:1},8,["modelValue","options"]),t(O,{placeholder:"上方未找到，可在此输入，自定义mod内容也需在此输入(格式: minecraft:stick)",style:{margin:"15px 0"},modelValue:_.value,"onUpdate:modelValue":e[14]||(e[14]=l=>_.value=l)},null,8,["modelValue"])]),o("span",ze,[t(y,{onClick:e[15]||(e[15]=l=>U.value=!1)},{default:s(()=>[b("Cancel")]),_:1}),t(y,{type:"primary",onClick:h},{default:s(()=>[b("Confirm")]),_:1})])]),_:1},8,["modelValue"])],64)}}},Le=pe(Je,[["__scopeId","data-v-ba1d9530"]]);export{Le as default};
